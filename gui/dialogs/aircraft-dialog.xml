<?xml version="1.0"?>

<!-- C172p-detailed
 This program is free software; you can redistribute it and/or
 modify it under the terms of the GNU General Public License as
 published by the Free Software Foundation; either version 2 of the
 License, or (at your option) any later version.

 This program is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 General Public License for more details.
-->

<PropertyList>
	<name>aircraft-dialog</name>
	<layout>vbox</layout>
	<resizable>false</resizable>
	<modal>false</modal>
	<draggable>true</draggable>
	<default-padding>3</default-padding>

	<nasal>
		<open>
			var init = func {
				var p = getprop("fdm/jsbsim/bushkit");

				setprop("/sim/model/c172p/bushkit_flag_0",0);
				setprop("/sim/model/ec130/bushkit_flag_1",0);
				setprop("/sim/model/ec130/bushkit_flag_2",0);

				if ( p == 0 ) { setprop("/sim/model/c172p/bushkit_flag_0",1); }
				if ( p == 1 ) { setprop("/sim/model/c172p/bushkit_flag_1",1); }
				if ( p == 2 ) { setprop("/sim/model/c172p/bushkit_flag_2",1); }
			}

			init();
		</open>
	</nasal>
	
	<group>	
		<layout>hbox</layout>
		<default-padding>5</default-padding>
		<empty><stretch>1</stretch></empty>
		<text>
			<label>Aircraft Options</label>
		</text>
		<empty><stretch>true</stretch></empty>
		<button>
			<legend></legend>
			<key>Esc</key>
			<pref-width>16</pref-width>
			<pref-height>16</pref-height>
			<binding>
				<command>dialog-close</command>
			</binding>
		</button>
	</group>
	
	<hrule/>
	
	<group>
		<layout>hbox</layout>
		<default-padding>5</default-padding>
	</group>
	
	<group>
		<layout>hbox</layout>
		<default-padding>5</default-padding>
		<empty><stretch>1</stretch></empty>
		<halign>left</halign>
		<checkbox>
			<label> Start with engine running</label>
			<live>true</live>
			<binding>
				<command>nasal</command>
				<script>#needs tied to start engine code</script>
			</binding>
		</checkbox>
	</group>
	
	<group>
		<layout>hbox</layout>
		<default-padding>5</default-padding>
		<empty><stretch>1</stretch></empty>
		<halign>left</halign>
		<checkbox>
			<label> Complex start up procedures</label>
			<live>true</live>
			<binding>
				<command>nasal</command>
				<script>#needs tied to complex start up procedure code</script>
			</binding>
		</checkbox>
	</group>
	
	<text>  
        <label>--------------------------</label>
        <halign>center</halign>
    </text>
	
	<group>
		<layout>table</layout>
		<default-padding>5</default-padding>
		<halign>left</halign>
		
		<text>
			<row>0</row>
			<col>0</col>
			<label> </label>
			<halign>left</halign>
         </text>
		 	
		<checkbox>
			<row>0</row>
			<col>1</col>
			<label> Damage</label>
			<property>/fdm/jsbsim/damage</property>
			<live>true</live>
			<binding>
				<command>dialog-apply</command>
			</binding>
		</checkbox>
		
		<text>
           <row>0</row>
           <col>2</col>
           <label>     </label>
           <halign>left</halign>
         </text>
		 
		<button>
           <row>0</row>
           <col>3</col>
			<legend> Repair </legend>
			<pref-width>60</pref-width>
			<pref-height>28</pref-height>
			<binding>
				<command>nasal</command>
				<script>c172p.resetalldamage()</script>
			</binding>
		</button>
	</group>
	
	<text>  
        <label>--------------------------</label>
        <halign>center</halign>
    </text>
	
	<group>
		<layout>hbox</layout>
		<default-padding>5</default-padding>
		<empty><stretch>1</stretch></empty>
		<halign>left</halign>
		<checkbox>
			<label> Shadow Volume</label>
			<live>true</live>
			<binding>
				<command>nasal</command>
				<script>c172p.toggle_shadow_volume()</script>
			</binding>
		</checkbox>
	</group>
	
	<text>  
        <label>--------------------------</label>
        <halign>center</halign>
    </text>
	
	<group>
		<layout>hbox</layout>
		<text>
			<label>Bush Kit Options</label>
			<halign>center</halign>
		</text>
	</group>

	<group>
		<layout>table</layout>
		<default-padding>5</default-padding>
		<halign>left</halign>

		<text>
           <row>0</row>
           <col>0</col>
           <label> </label>
           <halign>left</halign>
         </text>
		 
		<radio>
			<row>0</row>
			<col>1</col>
			<halign>left</halign>
			<label>Default Tire</label>
			<property>sim/model/c172p/bushkit_flag_0</property>
			<live>true</live>
			<binding>
				<command>dialog-apply</command>
			</binding>
			<binding>
				<command>nasal</command>
				<script>
					setprop("fdm/jsbsim/bushkit", 0);
					setprop("sim/model/c172p/bushkit_flag_0",1);
					setprop("sim/model/c172p/bushkit_flag_1",0);
					setprop("sim/model/c172p/bushkit_flag_2",0);
				</script>
			</binding>
		</radio>

		<radio>
			<row>0</row>
			<col>2</col>
			<halign>left</halign>
			<label>26"</label>
			<property>sim/model/c172p/bushkit_flag_1</property>
			<live>true</live>
			<binding>
				<command>dialog-apply</command>
			</binding>
			<binding>
				<command>nasal</command>
				<script>
					setprop("fdm/jsbsim/bushkit", 1);
					setprop("sim/model/c172p/bushkit_flag_0",0);
					setprop("sim/model/c172p/bushkit_flag_1",1);
					setprop("sim/model/c172p/bushkit_flag_2",0);
				</script>
			</binding>
		</radio>

		 <radio>
			<row>0</row>
			<col>3</col>
			<halign>left</halign>
			<label> 36"</label>
			<property>sim/model/c172p/bushkit_flag_2</property>
			<live>true</live>
			<binding>
				<command>dialog-apply</command>
			</binding>
			<binding>
				<command>nasal</command>
				<script>
					setprop("fdm/jsbsim/bushkit", 2);
					setprop("sim/model/c172p/bushkit_flag_0",0);
					setprop("sim/model/c172p/bushkit_flag_1",0);
					setprop("sim/model/c172p/bushkit_flag_2",1);
				</script>
			</binding>
		</radio>
		 
	</group>
	
	<group>
		<layout>hbox</layout>
		<default-padding>5</default-padding>
	</group>
	
	<hrule/>
	
	<group>
		<layout>hbox</layout>
		<default-padding>5</default-padding>

		<button>
			<legend>Close</legend>
			<equal>true</equal>
			<key>Esc</key>
			<default>true</default>
			<binding>
				<command>dialog-close</command>
			</binding>
		</button>
	</group>
</PropertyList>

