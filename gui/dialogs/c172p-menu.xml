<?xml version="1.0"?>

<PropertyList>

    <default>
        <menu n="10">
            <label>Cessna C172P</label>
            <enabled type="bool">true</enabled>
            <item>
                <label>Aircraft Options</label>
                <binding>
                    <command>dialog-show</command>
                    <dialog-name>aircraft-dialog</dialog-name>
                </binding>
            </item>

            <item>
                <label>Select Livery</label>
                <binding>
                    <command>nasal</command>
                    <script>aircraft.livery.dialog.toggle()</script>
                </binding>
            </item>

            <item>
                <label>Registration</label>
                <binding>
                    <command>dialog-show</command>
                    <dialog-name>registration-dialog</dialog-name>
                </binding>
            </item>

			<item>
                <label>Flashlight</label>
                <binding>
                    <command>nasal</command>
                    <script>c172p.toggle_flashlight()</script>
                </binding>
            </item>

            <item>
                <label>Show/Hide Yokes</label>
	            <binding>
	                <command>property-toggle</command>
	                <property>/sim/model/hide-yoke</property>
	            </binding>
            </item>

            <item>
                <label>Autostart</label>
                <binding>
                    <command>nasal</command>
                    <script>c172p.autostart()</script>
                </binding>
            </item>
            <item>
              <label>Panel in a Browser</label>
              <binding>
                <command>nasal</command>
                <script>
                  var n = props.globals.getNode("/sim/http/running");
                  if( props.globals.getNode("/").getValue("sim/http/running",0) != 1 ) {
                    gui.popupTip("Internal webserver not running. Restart FlightGear with --httpd=8080", 5.0);
                  } else {
                    var _url = "http://localhost:" ~ getprop("/sim/http/options/listening-port") ~ "/aircraft-dir/WebPanel/c172p-webpanel.html";
                    fgcommand("open-browser", props.Node.new({ "url": _url }));
                  }
                </script>
              </binding>
            </item>
        </menu>
    </default>

</PropertyList>
